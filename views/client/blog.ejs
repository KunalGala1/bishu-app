<% const blog_page_image = JSON.parse(data.blog_page.body).file %>
<% const blog_page_description = JSON.parse(data.blog_page.body).description %>

<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Blog</title>
		<%- include('../partials/head') %>
	</head>

	<body class="bg-red-950">
		<%- include('../partials/nav') %>
		<% if (blog_page_image) { %>
		 <section class="w-full h-[30vh] sm:h-[500px] lg:h-[700px] max-w-[2000px] mx-auto">
			<img src="<%= blog_page_image.location %>" alt="<%= blog_page_image.alt %>" class="object-cover object-center w-full h-full">
		 </section>
		<% } %>
		<% if (data.Blogpost.length > 0) { %>
			<section class="mw-xxl pd-md flex gap-md wrap txt color white sans align-stretch">
				<% data.Blogpost.forEach(post => { %>
				<% const postParsedBody = JSON.parse(post.body) %>
				<div class="card rounded bg-60-60" style="max-width: 300px;">
					<a style="height: 100%; display: block;" href="/blog/<%= postParsedBody.slug %>">
						<img class="rounded-t rounded-r" src="<%= postParsedBody.file.location %>" alt="<%= postParsedBody.file.alt %>">
						<div class="pd-sm flex column gap-sm align-stretch">
							<div><%- postParsedBody.title %></div>
							<div><%- postParsedBody.description %></div>
						</div>
					</a>
				</div>
				<% }) %>
			</section>
		<% } else { %>
			<section class="text-gray-200 text-center p-8">
				No blog posts yet...
			</section>
		<% } %>
		<%- include('../partials/footer') %>
	</body>

</html>